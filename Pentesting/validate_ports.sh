#!/bin/bash

TARGET="kertu.org"

echo "Choose scan mode:"
echo "1) Basic Scan (quick)"
echo "2) Detailed Scan (includes service details and vulnerability testing)"
read -p "Enter your choice (1 or 2): " MODE_CHOICE

if [ "$MODE_CHOICE" == "1" ]; then
    DETAILED="false"
elif [ "$MODE_CHOICE" == "2" ]; then
    DETAILED="true"
else
    echo "Invalid choice. Exiting..."
    exit 1
fi

echo "Scanning open ports for $TARGET..."

if [ "$DETAILED" == "false" ]; then
    echo "Performing basic SYN scan on all ports (-sS -p-)..."
    nmap -sS -p- $TARGET
else
    echo "Performing detailed scan..."
    echo "Retrieving detailed information about open ports and services..."
    nmap -sV -p- $TARGET
    echo "Attempting script-based vulnerability scanning..."
    nmap --script vuln -p- $TARGET
    echo "Checking SSL/TLS versions on port 443 (if open)..."
    nmap --script ssl-enum-ciphers -p 443 $TARGET
fi

echo "Port scanning and validation completed."